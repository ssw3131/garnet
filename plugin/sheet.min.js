(function(){if(!Dk.gs("sheet")){var p=document,m,d=Dk.gs("prototype"),n=Dk.gs("core");log({name:"Dk garnet plugIn - sprite sheet",version:"v0.0.1",contact:"ssw3131@daum.net"});(function(){var d,g=n.slice;m=function(){var k=d,e=arguments,h=e[0];1==e.length?k[h].call(this):k[h].apply(this,g.call(e,1));return this};(function(){function k(){for(var a=h.length,b,c;a--;)b=h[a].value,c=b.data,1>++c.cr%c.fr&&(++c.cf>c.ef?c.rp?c.cf=c.sf:(b.data.cf=b.data.ef,f.del(b.pp("ssId"))):null,e(b))}function e(a){var b=    a.data,c=b.jArr;a.css("backgroundPosition",-c[b.cf-1].frame.x+"px "+-c[b.cf-1].frame.y+"px")}var h,f,g=0;h=(f=n.adManager(function(){Dk.Loop.add("sheet",k)},function(){Dk.Loop.del("sheet")})).getList();d={load:function(a,b,c){var d=this,e=d.data;d.css("bgImg",a);d.pp("ssId","ssId"+ ++g);Dk.loader.json(b,function(a){a=a.frames;e.jArr=a;e.tf=e.ef=a.length;e.fr=void 0==c?2:60/c;d.css("width",a[0].sourceSize.w,"height",a[0].sourceSize.h)})},repeat:function(){var a=this.data;a.rp=!0;a.sf=1;a.ef=a.tf;f.add(this.pp("ssId"),    this)},play:function(){var a=this.data;a.rp=!1;a.ef=a.tf;++a.cf>a.ef?a.sf=a.cf=1:null;f.add(this.pp("ssId"),this)},stop:function(){f.del(this.pp("ssId"))},gotoAndStop:function(a){this.data.cf=a;f.del(this.pp("ssId"));e(this)},abRepeat:function(a,b){var c=this.data;c.rp=!0;c.sf=c.cf=a;c.ef=b;f.add(this.pp("ssId"),this)},gotoAndPlay:function(a){var b=this.data;b.rp=!1;b.cf=a;b.ef=b.tf;f.add(this.pp("ssId"),this)}}})()})();(function(){var l,g;l=function(){var d=p.createElement("div"),e=d.style;this.___eventList={};this.parent=null;this.children=[];this.element=d;this.style=e;this.element.___self=this;this.data=new g};g=function(){this.jArr=null;this.rp=!0;this.ef=this.sf=this.tf=this.cf=1;this.cr=0;this.fr=30};l.prototype={id:d.id,pp:d.pp,atr:d.atr,css:d.css,tr:d.tr,ev:d.ev,gcs:d.gcs,ss:m};Dk.gs("sheet",function(){return new l})})();Dk.plugIn.add("sheet")}})();